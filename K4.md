##1.9

### 1. H5
[翻译-你必须知道的28个HTML5特征、窍门和技术](http://www.zhangxinxu.com/wordpress/2010/08/%E7%BF%BB%E8%AF%91-%E4%BD%A0%E5%BF%85%E9%A1%BB%E7%9F%A5%E9%81%93%E7%9A%8428%E4%B8%AAhtml5%E7%89%B9%E5%BE%81%E3%80%81%E7%AA%8D%E9%97%A8%E5%92%8C%E6%8A%80%E6%9C%AF/)

[html5shiv项目让IE6-IE9浏览器都支持HTML5中的元素](http://www.zhangxinxu.com/wordpress/2013/02/github-html5shiv-readme-translate/)

#### 1.1 H5选择器
querySelector() 匹配指定 CSS 选择器的一个元素
querySelectorAll() 匹配指定 CSS 选择器的所有元素。
> 注意：querySelectorAll()方法得到的类数组对象是非动态实时的

querySelectorAll对比getElements的优势
-> 可以操作数组
``` html
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
```

``` javascript
	<script>
		var aBox = document.querySelectorAll('div');
		// var aBox = document.getElementsByTagName('div');	// 该方法得到的是伪数组，不能操作各项的属性

		// for (var i = 0; i < aBox.length; i++) {
		// 	aBox[i].onclick = function() {
		// 		alert(1);
		// 	}
		// }

		// 循环深入

		aBox.forEach(function(item, index) {
			item.onclick = function() {
				alert(index);	// 弹出当前点击div的索引值 依次为0、1、2
			}
		})
	</script>
```

**jQuery的选择器即是querySelectorAll**
``` javascript
<script>
	function $(selector) {
		var items = document.querySelectorAll(selector);

		if (items.length > 1) {
			return items;
		} else if (items.length == 0) {
			return;
		} else {
			return items[0];
		}
	}
</script>
```

#### 1.2 H5自定义属性dataset

[HTML5自定义属性对象Dataset简介](http://www.zhangxinxu.com/wordpress/2011/06/html5%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7%E5%AF%B9%E8%B1%A1dataset%E7%AE%80%E4%BB%8B/)

[HTML5 datalist在实际项目中应用的可行性研究](http://www.zhangxinxu.com/wordpress/2013/03/html5-datalist-%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8-%E5%8F%AF%E8%A1%8C%E6%80%A7/)

示例
``` html
	<a data-link="#" data-user-name="chloe">baidu.com</a>
```

``` javascript
	<script>
		var oA = document.querySelector('a');
		oA.dataset.link = 'https://www.baidu.com';
		oA.href = oA.dataset.link + '?name=' + oA.dataset.userName;	// https://www.baidu.com/?name=chloe
		// 注意：两个及以上属性名调用时需转化为驼峰命名
	</script>
```
#### 1.3 H5元素类名操作classList

[HTML5 DOM元素类名相关操作API classList简介](http://www.zhangxinxu.com/wordpress/2013/07/domtokenlist-html5-dom-classlist-%E7%B1%BB%E5%90%8D/)

``` html
<!-- 该示例来源于张鑫旭个人博客 -->
<body class="a b c"></body>
```

``` javascript
<script>
	console.log(document.body.classList);
	console.log(document.body.className);
	console.log(document.body.classList.toString() === document.body.className;)	// true
</script>
```

> HTML5 DOM元素类名相关操作API classList简介>>>测试

![HTML5 DOM元素类名相关操作API classList简介>>>测试](http://img.blog.csdn.net/20170110000715296?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdzk1MDkxNQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

隐式原型上的方法：(不一一列举)
- obj.add(cName1, cName2, ...);
- obj.remove(cName1, cName2, ...);
- obj.toggle(cName);
- obj.contains(cName);

#### 1.4 H5本地存储localStorage

**坑：首先注意name这个独特的变量名**

``` javascript
<script>
	alert(name);	// 第一次 ''  刷新浏览器 'chloe'
	alert(a);		// 第一次 undefined  刷新浏览器 'undefined'
	// console.log(name);
	// console.log(a);
	var name = 'chloe';
	var a = 'aaa';
</script>
```

解释：(源自[JavaScript 保留关键字](http://www.runoob.com/js/js-reserved.html))


![js内置属性](http://img.blog.csdn.net/20170110134557301?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdzk1MDkxNQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)


[HTML5 localStorage本地存储实际应用举例](http://www.zhangxinxu.com/wordpress/2011/09/html5-localstorage%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B/)

**cookie && localStorage && sessionStorage** (来源CSDN)
- 共同点：
     都是保存在浏览器端，且同源的。
- 不同点：

1. cookie数据始终在同源的http请求中携带（即使不需要），即cookie在浏览器和服务器间来回传递。而sessionStorage和localStorage不会自动把数据发给服务器，仅在本地保存。

2. cookie数据还有路径（path）的概念，可以限制cookie只属于某个路径下。

3. 存储大小限制也不同，cookie数据不能超过4k，同时因为每次http请求都会携带cookie，所以cookie只适合保存很小的数据，如会话标识。sessionStorage和localStorage 虽然也有存储大小的限制，但比cookie大得多，可以达到5M或更大。

4. 数据有效期不同，sessionStorage：仅在当前浏览器窗口关闭前有效，自然也就不可能持久保持；localStorage：始终有效，窗口或浏览器关闭也一直保存，因此用作持久数据；cookie只在设置的cookie过期时间之前一直有效，即使窗口或浏览器关闭。

5. 作用域不同，sessionStorage不在不同的浏览器窗口中共享，即使是同一个页面；localStorage 在所有同源窗口中都是共享的；cookie也是在所有同源窗口中都是共享的。

6. Web Storage 支持事件通知机制，可以将数据更新的通知发送给监听者。Web Storage 的 api 接口使用更方便。


##### 1.4.1 Web Storage实际上由两部分组成：sessionStorage与localStorage。

- sessionStorage用于本地存储一个会话（session）中的数据，这些数据只有在同一个会话中的页面才能访问并且当会话结束后数据也随之销毁。因此sessionStorage不是一种持久化的本地存储，仅仅是会话级别的存储。

- localStorage用于持久化的本地存储，除非主动删除数据，否则数据是永远不会过期的。

> 兼容：可以先测试，以确定window.localStorage是否存在。

sessionStorage与localStorage操作相同

- 设置

	`localStorage.key = value;`

	`localStorage.setItem(key,value);`

``` javascript
<script>
	var userName = 'chloe';

	//存储，IE6~7 cookie 其他浏览器HTML5本地存储
	if (window.localStorage) {
		localStorage.setItem("name", userName);
	} else {
		Cookie.write("name", userName);	// MooTools框架下cookie的写法
	}
</script>
```

- 读取

	`localStorage.key;`

	`localStorage.getItem(key);`

``` javascript
<script>
	var userName = window.localStorage ? localStorage.getItem("name") : Cookie.read("name"); // MooTools框架下cookie的写法
</script>
```

- 遍历

``` javascript
<script>
	var storage = window.localStorage;
	for (var i = 0, len = storage.length; i < len; i++) {
		var key = storage.key(i);
		var value = storage.getItem(key);
		console.log(key + "=" + value);
	}
</script>
```

- 删除

	`delete localStorage.key;`

	`localStorage.removeItem(key);`

``` javascript
<script>
	if (window.localStorage) {
		localStorage.removeItem("name");
	} else {
		Cookie.dispose('name'); // MooTools框架下cookie的写法
	}
</script>
```

- 清空

	`localStorage.clear();`

> window.onstorage 监听localstorage变化

### 2. toString() && valueOf()
toString() 把一个逻辑值转换为字符串，并返回结果

valueOf()  返回 Boolean 对象的原始值

> 源自知乎

>这两个方法一般是交由JS去隐式调用，以满足不同的运算情况。

>在数值运算里，会优先调用valueOf()，如a + b；

>在字符串运算里，会优先调用toString()，如alert(c)。

``` javascript
<script>
	// 该示例来源于脚本之家
	var bbb = {
		i: 10,
		toString: function() {
			console.log('toString');
			return this.i;
		},
		valueOf: function() {
			console.log('valueOf');
			return this.i;
		}
	}

	alert(bbb); // 10 toString
	alert(+bbb); // 10 valueOf
	alert('' + bbb); // 10 valueOf
	alert(String(bbb)); // 10 toString
	alert(Number(bbb)); // 10 valueOf
	alert(bbb == '10'); // true valueOf
	alert(bbb === '10'); // false
</script>

```

``` javascript
<script>
	console.log({
		valueOf: function() {
			return 20;
		}
	} * {
		valueOf: function() {
			return 30;
		}
	});		// 600
</script>
```

### 3. JSON

之前的例子

1.JSON.stringify(object);	// 对象 -> 字符串

eg: `{a:1,b:2}` -> `"{"a":1,"b":2}"`

2.JSON.parse(str);		// 字符串 -> json对象

`{"name":"huangxiaojian","age":"23"}'` ->
`{`
	`age: "23"`
	`name: "huangxiaojian"`
	`__proto__: Object`
`}`


JSON.stringify(object) 将对象字符串序列化成标准JSON字符串

JSON.parse(str)        将字符串序列化成对象

``` html
<a href="https://www.baidu.com/" attr1='13'>baidu.com</a>
```

``` javascript
<script>
	var oA = document.querySelector('a');
	console.log(oA.getAttribute('attr1')); // 13

	oA.setAttribute('attr1', '14');
	var number = oA.getAttribute('attr1');
	console.log(oA.getAttribute('attr1')); // 14
	console.log(typeof number);	// string 直接设置自定义属性只能得到string类型

	oA.setAttribute('attr1', JSON.stringify({
		name: 14
	}));

	var number2 = oA.getAttribute('attr1');

	console.log(number2); // {"name": "14"}
	console.log(JSON.parse(number2)); // -> Object {name: "14"}
									  // 		name: "14"
									  // 		-> _proto_: Object
	console.log(JSON.parse(number2).name); // 14
	console.log(typeof JSON.parse(number2).name); // number JSON转化得到了真正类型
</script>
```


### 4. css3
#### 4.1 border-radius
10px 20px 30px 40px -> 左上角起顺时针经过的角的顺序

10px 20px 30px 40px / 30px 10px 40px 20px

/ -> 分离x/y轴方向半径

#### 4.2 box-shadow
[inset]  10px   20px   30px      40px   black;

[内阴影] x位移 y位移 模糊半径  弥散半径 颜色

多边框实例
``` css
<style>
	#box{
		width: 100px;
		height: 100px;
		box-shadow: 0 0 0 10px black,
					0 0 0 20px green,
					0 0 0 30px pink,
					0 0 0 40px purple,
					0 0 0 50px orange,
					0 0 0 60px khaki,
					0 0 0 70px indigo,
					0 0 0 80px plum,
					0 0 0 90px violet;
		margin: 200px auto;
	}
</style>
```

##1.10

### 4. css3
#### 4.3 transform(搭配transition使用效果更佳)
**以下属性可以一同使用**

- rotate([deg]) 旋转

`tansform: rotate(30deg);` 正向旋转30度
`tansform: rotate(0.785rad);` 正向旋转0.785弧度
`tansform: rotateX|Y|Z(45deg);`
> 角度转弧度 π/180×角度
弧度变角度 180/π×弧度

transofrm-origin 旋转中心

eg:
`transofrm-origin: left|top|bottom|right|center(默认);`
`transofrm-origin: left top|left bottom|right top|left center|center bottom;`
`transofrm-origin: -120px -120px;`

- translate(x, y) 偏移
x>0 右偏移
x<0 左偏移
y>0 下偏移
y<0 上偏移

`transform: translate(-30px, -40px);` 左偏移30px, 右偏移40px
`transform: translateX|Y|Z(-30px);`

- scale(s); 放大/缩小

`transform: scale(0.2)` 宽高缩小至0.2倍的大小
`transform: scale(0.2, 1)` 宽度缩小至0.2倍大小，高度不变
`transform: scaleX|scaleY(0.2)`


- skew([deg]) 倾斜

`transform: skew(20deg)` 水平向左倾斜20度
`transform: skewX(20deg)` 水平向左倾斜20度
`transform: skewY(20deg)` 垂直向上倾斜20度
`transform: skew(20deg, 20deg)` 水平向左倾斜20度，垂直向上倾斜20度


- 关于多属性
transform多属性时从后向前解析

eg:
`transform: rotate(45deg) scale(2,1);`	先横向放大再旋转
`transform: scale(2,1) rotate(45deg);`  先旋转再横向放大

#### 4.4 transition
transition([]); 过渡

transition 属性是一个简写属性，用于设置**四个过渡属性**：

- transition-property 设置过渡效果的 CSS 属性的名称
- transition-duration 完成过渡效果需要多少秒
- transition-timing-function 速度效果的速度曲线
	- linear      匀速等于 cubic-bezier(0,0,1,1)
    - ease	      慢速开始，然后变快，然后慢速结束 cubic-bezier(0.25,0.1,0.25,1)
    - ease-in     慢速开始 等于 cubic-bezier(0.42,0,1,1)
    - ease-out	  慢速结束 等于 cubic-bezier(0,0,0.58,1)
    - ease-in-out 慢速开始和结束 等于 cubic-bezier(0.42,0,0.58,1)
    - cubic-bezier(n,n,n,n)
- transition-delay 过渡效果何时开始

eg:
``` css
<style>
	#box{
		width: 200px;
		height: 200px;
		background-color: green;
		transition: 1s width cubic-bezier(1, 1.7, 0, 1.54) 1s;	/* 1s后由400px过渡到200px */
	}
	#box:active{
		width: 400px;
		transition: 0s;	/* 按下0s后变为400px */
	}
</style>
```
#### 4.5 animation
animation([]); 动画

animation 属性是一个简写属性，用于设置**六个动画属性**：

- animation-name 需要绑定到选择器的 keyframe 名称
- animation-duration 完成动画所花费的时间
- animation-timing-function 动画的速度曲线
- animation-delay 在动画开始之前的延迟
- animation-iteration-count 动画应该播放的次数
	- n	       播放次数
	- infinite 无限次播放
- animation-direction 是否应该轮流反向播放动画
	- alternate	轮流反向播放
	- reverse   反向播放
	- alternate-reverse 反向交替播放
- animation-fill-mode 结束状态
	- forwards  停留在结束状态
	- backwards 返回原始状态
- animation-play-state 暂停动画
	- paused   动画已暂停
	- running 动画正在播放

keyframe 关键帧
``` css
<style>
	@keyframes name{
		from{

		}
		to{

		}

		10%{

		}
		20%{

		}
		100%{

		}
	}
</style>
`

#### 4.6 perspective
perspective 视角

指定观察者与z=0平面的距离，使具有三维位置变换的元素产生透视效果

[小tip: 纯CSS实现视差滚动效果](http://www.zhangxinxu.com/wordpress/2015/03/css-only-parallax-effect/)
[好吧，CSS3 3D transform变换，不过如此！](http://www.zhangxinxu.com/wordpress/2012/09/css3-3d-transform-perspective-animate-transition/)

perspective属性有两种书写形式，一种用在舞台元素上（动画元素们的共同父辈元素）；第二种就是用在当前动画元素上，与transform的其他属性写在一起

1. perspective:800px; -> 给当前元素的子集增加视角
2. transform:perspective(800px)(必须最前面) rotate... -> 给当前元素增加视角

开启3D空间

transform-style:preserve-3d;
加给3D变化元素父集,不可继承

transform-style: preserve-3d

#### 4.6 direction
文字转向 需配合unicode-bidi使用

`direction: rtl; unicode-bidi: bidi-override;`

#### 4.7 -webkit-mask
遮罩
**webkit下神奇的图层蒙版效果**

`-webkit-mask: url(xxx.jpg);` 背景按mask图片大小显示
`-webkit-mask:linear-gradient(rgba(0,0,0,1)), to(rgba(0,0,0,0);` 背景按渐变遮罩显示

#### 4.8 box-reflect
倒影

[-webkit-box-reflect各个属性值效果演示](http://www.zhangxinxu.com/study/201608/-webkit-box-reflect.html)

box-reflect：none | <direction> <offset>? <mask-box-image>?

方向<direction> = above | below | left | right
间隔<offset> = <length> | <percentage>
遮罩<mask-box-image> = none | <url> | <linear-gradient> | <radial-gradient> | <repeating-linear-gradient> | <repeating-radial-gradient>

#### 4.9 text-shadow
文字阴影
`text-shadow: x-shadow y-shadow [blur] [color];`

水平阴影位置 垂直阴影位置 模糊的距离 阴影颜色

#### 4.10 resize
是否允许用户调整元素的尺寸

`resize: none`			用户无法调整元素的尺寸
`resize: both`			用户可调整元素的高度和宽度
`resize: horizontal`	用户可调整元素的宽度
`resize: vertical`		用户可调整元素的高度

#### 4.11 background-image内的一些属性
- linear-gradient 线性渐变

background:linear-gradient(direction, start-color, stop-color);

direction:
to top    ->	0deg   -> 从下到上
to right  ->	90deg  -> 从左到右
to bottom ->	180deg -> 从上到下（默认值）
to left	  ->    270deg -> 从右到左
to top left	 ->	右上角到左上角（斜对角）
to top right ->	左下角到右上角（斜对角）

eg:
`background-image: linear-gradient(red,blue);`
`background-image: linear-gradient(250deg,red,blue);`
`background-image: linear-gradient(red,orange,yellow,green,blue,indigo,violet);`
`background-image: linear-gradient(red 50%,blue 50%);` 跳变
`background-image: linear-gradient(90deg,blue 33.33333%,white 33.33333%,white 66.66666%,red 66.66666%,red 100%);` 0~1/3是蓝色 1/3~2/3是白色 2/3~1是红色

- radial-gradient 径向渐变

background:radial-gradient(position ,shape size, start-color, stop-color);

position 圆心位置

shape:
circle	定义径向渐变为“圆形”
ellipse	定义径向渐变为“椭圆形”

size:
closet-side	指定径向渐变的半径长度为从圆心到离圆心最近的边
closest-corner	指定径向渐变的半径长度为从圆心到离圆心最近的角
farthest-side	指定径向渐变的半径长度为从圆心到离圆心最远的边
farthest-corner	指定径向渐变的半径长度为从圆心到离圆心最远的角

eg:
`background-image: radial-gradient(red,blue);` 内圆红色，外框蓝色
`background-image: radial-gradient(red,orange,yellow,green,blue,indigo,violet);border-radius: 50%;`
`background-image: radial-gradient(circle,red 30%,white 30%);`
`background-image: -webkit-radial-gradient(100px 100px,circle farthest-corner,red,blue);`
`background-image: -webkit-radial-gradient(100px 100px,circle farthest-side,red,blue);`
`background-image: -webkit-radial-gradient(150px 100px,200px 80px,red,blue);`


- repeating-linear-gradient 重复渐变
eg:
`background-image: repeating-linear-gradient(red,blue 20%);`


#### 4.12 background相关属性
- background-origin 相对于内容框来定位背景图像

`background-origin: border-box;`  相对于边框盒来定位背景图像：
`background-origin: content-box;` 相对于内容框来定位背景图像：
`background-origin: padding-box;` 相对于内边距框来定位背景图像：

- background-clip 裁剪背景图片

`background-clip: border-box;`  相对于边框盒来定位背景图像：
`background-clip: content-box;` 相对于内容框来定位背景图像：
`background-clip: padding-box;` 相对于内边距框来定位背景图像：

**webkit下神奇的图层蒙版效果**
- webkit-background-clip(字内显示图片)
eg:
``` css
<style>
	#box {
		width: 200px;
		height: 200px;
		background: url(xxx.jpg);
		background-size: cover;
		-webkit-background-clip: text;
		font-size: 200px;
		font-weight: bolder;
		color: rgba(0, 0, 0, 0.1);
	}
</style>
```
``` html
	<div id="box">品</div>
```

- background-attachment
`background-attachment: scroll` 默认值。背景图像会随着页面其余部分的滚动而移动。
`background-attachment: fixed`	当页面的其余部分滚动时，背景图像不会移动。

[](background-attachment2.html)

- background-size 背景图像尺寸

`background-size: 3em, 25%;`  自定义背景图像尺寸
`background-size: cover;`     使背景图像完全覆盖背景区域(图像可能被裁剪)
`background-size: contain;`   完全包含背景图(no-repeat背景区域可能有空白)

- background-position 背景图像定位

`background-position: center|top|right|bottom|left`
`background-position: 20px 20%`

#### 4.13 fliter(滤镜)的属性
[CSS3 Filter的十种特效](http://www.w3cplus.com/css3/ten-effects-with-css3-filter)

- blur 模糊
eg:
`filter: blur(20px);`

- drop-shadow 阴影
[CSS3 filter:drop-shadow滤镜与box-shadow区别应用](http://www.zhangxinxu.com/wordpress/2016/05/css3-filter-drop-shadow-vs-box-shadow/)
eg:
`filter: drop-shadow(100px 1px 2px black);`

- invert 反色
eg:
`filter: invert(0.7);`

- brightness 亮度
eg:
`filter: brightness(.5);`

- sepia 褐色
eg:
`filter: sepia(1);`

- hue-rotate 色相旋转
eg:
`filter: hue-rotate(30deg);`

- saturate 饱和度
eg:
`filter: saturate(10);`



### 5. 库&&框架
库：lib，方法库，或组件库。核心库是给二次开发同学用的，它严谨、符合标准、独立健壮、无污染。eg: jQuery

框架：framework，主要是给用户使用，当然也给二次开发者用，它易使用、易扩展、可持续发展、可控。 eg: Angular.js

[框架和类库的区别](http://blog.sina.com.cn/s/blog_732ae613010155gj.html)

### 6. H5新增标签
header -> 头部
footer -> 底部
nav -> 导航
section -> 部分
aside -> 侧边栏
article -> 文章
mark -> 高亮(默认黄底高亮)
datalist -> 用input的list属性配合datalist的id属性 生成 可输入下拉框
dialog -> 定义对话框或窗口

meter -> 度量条
eg:
`<meter value="3" min="0" max="10">3/10</meter><br>
<meter value="0.6">60%</meter>`

progress -> 下载进度条
eg:
`<progress max="100"></progress>
<progress value="22" max="100"></progress>`

address -> 地址
summary -> 总结/梗概(下拉按钮展开details内容)
details -> summary里 -> 详情
eg:
`<details>
<summary>HTML 5</summary>
This document teaches you everything you have to learn about HTML 5.
</details>`

figure -> 内容相关，去掉不影响理解的内容
figcaption -> figure里
`<figure>
  <img src="xxx.jpg">
  <figcaption>描述</figcaption>
</figure>`

time -> 时间

### 7. CSS3新增选择器
####属性选择器
[attr=value] -> 匹配属性
[attr^=value] -> 匹配开头
[attr$=value] -> 匹配结尾
[attr|=value] -> 匹配value-开头
[attr~=value] -> 匹配空格隔开的单词

####结构选择器
:nth-child(n) -> 数字 从1开始
:nth-child(2n/2n-1/2n+1) -> 表达式
:nth-child(odd/even) -> 关键字
:nth-last-child(n/表达式) -> 倒着算
:first-child -> 选中第一项
:last-child -> 选中最后一项

####文字伪类选择器 -> p
:first-letter
:first-line
::selection

####其他选择器
:not() -> 反选
:after -> 从后面增加
:before -> 从前面增加
:target -> 被锚点锚住的元素

更详细的内容 css3.md && html5.md

##1.10

###CSS3
####老版浏览器的内核前缀

css

-webkit-transition: 1s;
-moz-transition: 1s;
-o-transition: 1s;
transition:	1s;

js(去掉-, 首字母大写)

WebkitTransition
MozTransition
OTransition

####属性选择器
**兼容：IE7+**

- E[attr]
- E[attr="value"]  **只含一个属性值**
- E[attr~="value"]   attr属性值包含value
- E[attr^="value"]   attr属性值以value开头
- E[attr$="value"]   attr属性值以value结束
- E[attr*="value"]   attr属性值包含value字符
- E[attr|="value"]   attr属性值是value或者"value-"开头  **只含一个属性值**


``` css
<style>
	p[attr1] {
		background: #f00;
	}
	p[attr1=a] {
		background: #0ff;
	}
	p[attr1~=c] {
		background: #00f;
	}
	p[attr1^=e] {
		background: #ff0;
	}
	p[attr1$=g] {
		background: #f0f;
	}
	p[attr1*=i] {
		background: #0f0;
	}
	p[attr1|=k] {
		background: #fff;
	}
</style>
```

``` html
	<strong>E[attr="value"] **只含一个属性值**</strong>
   	<p attr1="a">attr1="a"</p>
   	<p attr1="b a">attr1="b a"</p>
   	<hr/>
   	<strong>E[attr~="value"] attr属性值包含value</strong>
   	<p attr1="c">attr1="c"</p>
   	<p attr1="d c">attr1="d c"</p>
   	<hr/>
   	<strong>E[attr^="value"] attr属性值以value开头</strong>
   	<p attr1="e">attr1="e"</p>
   	<p attr1="f ef">attr1="f ef"</p>
   	<p attr1="ef f">attr1="ef f"</p>
   	<hr/>
   	<strong>E[attr$="value"] attr属性值以value结束</strong>
   	<p attr1="g gh">attr1="g gh"</p>
   	<p attr1="h hg">attr1="h hg"</p>
   	<hr/>
   	<strong>E[attr*="value"] attr属性值包含value字符</strong>
   	<p attr1="i">attr1="i"</p>
   	<p attr1="j jij">attr1="j jij"</p>
   	<hr/>
   	<strong>E[attr|="value"] attr属性值是value或者"value-"开头  **只含一个属性值**</strong>
   	<p attr1="k">attr1="k"</p>
   	<p attr1="l k">attr1="l k"</p>
   	<p attr1="m k-m">attr1="m k-m"</p>
   	<p attr1="k-m">attr1="k-m"</p>

```

![css3属性选择器](http://img.blog.csdn.net/20170110165816536?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdzk1MDkxNQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

####结构选择器
**兼容：IE9+**

**下标索引从1开始**

- `:nth-child(n) ` 找当前节点的父节点下的第n个子节点，当且仅当该子节点与当前节点的类型相符时有效

- `:nth-last-child(n)`  找当前节点的父节点下的倒数第n个子节点，当且仅当该子节点与当前节点的类型相符时有效

- `:nth-of-type(n)` 找当前节点的父节点下的第n个与当前节点的类型相符的子节点

- `:nth-last-of-type(n)` 找当前节点的父节点下的倒数第n个与当前节点的类型相符的子节点

- `:first-child`  即 :nth-child(1)

- `:last-child`  即 :nth-last-child(1)

- `:first-of-type`  即 :nth-of-type(1)

- `:last-of-type`  即 :nth-last-of-type(1)

- `:only-child`	  当前节点的父节点下只有一个子节点时有效

- `:only-of-type` 当前节点的父节点下与当前节点的类型相符的子节点只有一个时有效，可有多个其他类型子节点

---

- `:target`  设置跳转锚点属性  <a href="#div1"></a> -> <div id="div1"></div>

- `:disabled`  不可点击的表单控件

- `:enabled`   可点击的表单控件

- `:checked`   选中的checkbox/radio

- `A~B`        A元素后的第一个类型为B的兄弟节点    **应用：模拟checkbox**

- `:first-line`	当前节点的第一行

- `:first-letter` 当前节点的第一个字符

- `:not(x)`      不匹配x时有效

伪元素

- `::selection`  在当前节点内选中文字时有效

- `::before`     搭配content使用，在当前节点内容最前面插入content **不增加DOM**

- `::before`     搭配content使用，在当前节点内容最后面插入content **不增加DOM**

####颜色rgba
之前的opacity改变背景色透明度时同时改变文字颜色透明度

rgba可实现只改变背景色透明度

####文字阴影
text-shadow: [x轴 y轴 模糊度 弥散度 颜色]

x轴：正值 -> 向右 负值 -> 向左

y轴：正值 -> 向下 负值 -> 向上

阴影叠加

####文字省略text-overflow
``` css
<style>
	.ell {
		white-space: nowrap;  /* 不允许换行 */
		overflow: hidden;     /* 超出隐藏 */
		text-overflow: ellipsis;  /* 超出显示省略号，默认为clip(无省略号) */
	}
</style>
```


# html5
语法：
1. 内容类型
2. DOCTYPE声明
3. 指定字符编码
4. 可以省略标记的元素
5. 具有boolean值的属性
6. 省略行内属性赋值的引号

## 1. 新增元素
### 结构元素
#### section
对网站内容分块、分段
当容器需要被直接定义样式或通过脚本定义行为时，推荐使用div而非section

结构(标题+内容)
``` html
<section>
	<h1></h1>
	<p></p>
</section>
```
#### article
代表文档内容 独立性 可嵌套使用
可看作特殊的section元素

常见结构
``` html
<article>
	<header>
		<h1></h1>
	</header>
	<article>
		<header>
			<h2></h2>
		</header>
		<p></p>
		<footer></footer>
	</article>
	<footer></footer>
</article>
```

#### aside
用来表示当前页面或文章的附属信息(相关引用、侧边栏、广告、导航条)

常见结构
``` html
<header>
	<h1></h1>
</header>
<article>
	<h1></h1>
	<p></p>
	<aside>
		<h1></h1>
		<p></p>
	</aside>
</article>
<aside>
	<nav>
		<h2>评论</h2>
		<ul>
			<li><a href="javascipt:;"></a></li>
			<li><a href="javascipt:;"></a></li>
		</ul>
	</nav>
</aside>
```

#### nav
常见应用：导航条、侧边栏导航、页内导航、翻页操作
**不能用menu元素代替nav元素**

常见结构
``` html
<nav>
	<ul>
		<li><a href="javascript:;"></a></li>
		<li><a href="javascript:;"></a></li>
	</ul>
</nav>

<article>
	<header>
		<nav>
			<ul>
				<li><a href="javascript"></a></li>
				<li><a href="javascript"></a></li>
			</ul>
		</nav>
	</header>
	<section>
		<h1></h1>
		<p></p>
	</section>
	<section>
		<h1></h1>
		<p></p>
	</section>
	<footer>
		<a href="javascript:;"></a>
		<a href="javascript:;"></a>
	</footer>
</article>
```

#### figure
#### time
用来区分各时区或编码

常见结构
``` html
	<time datetime="2017-1-1">2017-1-1</time>
	<time datetime="2017-1-1T20:00">2017-1-1</time>
```

#### pubdate
指明发布时间

常见结构
``` html
	<article>
		<header>
			<h1></h1>
			<p>
				<time datetime="2017-1-1" pubdate>2017-1-1</time>
			</p>
		</header>
	</article>
```
#### header
header可出现多次

常见结构
``` html
<header>
	<h1></h1>
	<nav>
		<ul>
			<li><a href=""></a></li>
			<li><a href=""></a></li>
			<li><a href=""></a></li>
		</ul>
	</nav>
</header>
<article>
	<header>
		<h1></h1>
	</header>
</article>
```

#### footer
footer可出现多次
常见应用：脚注(相关链接、版权信息)

常见结构
``` html
<footer>
	<ul>
		<li><a href="">版权信息</a></li>
		<li><a href="">联系我们</a></li>
		<li><a href="">加入我们</a></li>
	</ul>
</footer>
```
#### hgroup
将标题及其子标题进行分组

常见结构
``` html
<article>
	<header>
		<hgroup>
			<h1>主标题</h1>
			<h2>子标题</h2>
		</hgroup>
		<p>
			<time datetime="2017-1-1">2017-1-1</time>
		</p>
	</header>
	<div></div>
	<footer>
	</footer>
</article>
```

#### address
在文档中呈现联系信息(作者名字、网站连接、电子邮箱、地址、手机号)

常见结构
``` html
<address>
	<a href=""></a>
	<a href=""></a>
</address>
<footer>
	<div>
		<address>
			<a href=""></a>
		</address>
		<time datetime="2017-1-1">2017-1-1</time>
	</div>
</footer>
```

#### 整体应用
``` html
<header>
	<h1>xxx</h1>
	<nav>
		<ul>
			<li><a href="#">a1</a></li>
			<li><a href="#">a2</a></li>
		</ul>
	</nav>
</header>
<article>
	<hgroup>
		<h1>主标题</h1>
		<h2>子标题</h2>
	</hgroup>
	<p>正文</p>
	<section>
		<div>
			<article>
				<h1>评论标题</h1>
				<p>评论正文</p>
			</article>
		</div>
	</section>
</article>
<footer>
	<small>版权***</small>
</footer>

```

### 其他元素
#### video
不同浏览器支持的格式不同，可能需要转码，在source标签里引入多种格式

FF不支持mp4，支持ogg

controls属性显示自带控制进度条

常见结构
``` html
<html>
	<video src="xxx.mp4" controls></video>
	<hr>
	<video  controls>
		<source src="xxx.mp4">
		<source src="xxx.ogg">
	</video>
	<hr>
	<video src="xxx.mp4" id="v1" width="400px" height="200px"></video>
	<button onclick="play()">播放/暂停</button>
</html>
```

``` javascript
<script>
	var v1 = document.getElementById('v1');
	function play() {
		if(v1.paused) {
			v1.play();
		} else {
			v1.pause();
		}
	}
</script>
```

#### audio
controls属性显示自带控制进度条

常见结构
``` html
<html>
	<audio src="xxx.mp3" controls></audio>  <!-- 显示音频自带播放器样式 -->
	<hr>
	<audio src="xxx.mp3" id="a1"></audio>  <!-- 只显示下面的按钮 -->
	<button onclick="play()">播放/暂停</button>
</html>
```

``` javascript
<script>
	var a1 = document.getElementById('a1');
	function play() {
		if(a1.paused) {
			a1.play();
		} else {
			a1.pause();
		}
	}
</script>
```

#### canvas

...


### input元素类型
email
url
number
range

date
time

Date Pickers

### *废除的元素
能用CSS替代的元素：basefont、big、center、font、s、tt、u等
frame框架
只有部分浏览器支持的元素

## 2. 新增属性
### 表单相关属性
####form
form的元素可写在form外，只要指向相同id

常见结构
``` html
<form id="form1">
	<input type="text">
</form>
<textarea form="form1"></textarea>
```
#### formaction
不同表单元素不同action路径

常见结构
``` html
<form id="form1">
	<input type="text">
	<input type="submit" name="s1" value="v1" formaction="fc1">
	<input type="submit" name="s2" value="v2" formaction="fc2">
	<input type="submit" name="s3" value="v3" formaction="fc3">
</form>
```

#### formmethod
不同表单元素不同提交方法

常见结构
``` html
<form id="form1">
	<input type="text">
	<input type="submit" name="s1" value="v1" formmethod="get" formaction="fc1">
	<input type="submit" name="s2" value="v2" formmethod="post" formaction="fc2">
</form>
```
#### formmethod
不同表单元素不同编码方式

常见结构
``` html
<form id="form1">
	<input type="text" formenctype="text/plain" value="表单数据中的空格转换为加号">
	<input type="text" formenctype="multipart/form-data" value="文件上传">
	<input type="text" formenctype="application/x-www-form-urlencoded" value="get方式时把表单数据转换为字符">
</form>
<textarea form="form1"></textarea>
```

#### formtarget
不同表单元素不同提交后在何处打开加载页面

常见结构
``` html
<form id="form1">
	<input type="text">
	<input type="submit" name="s1" value="v1" formtarget="_blank" formaction="fc1">
	<input type="submit" name="s1" value="v1" formtarget="_self" formaction="fc1">
	<input type="submit" name="s1" value="v1" formtarget="_parent" formaction="fc1">
	<input type="submit" name="s1" value="v1" formtarget="_top" formaction="fc1">
	<input type="submit" name="s1" value="v1" formtarget="framename" formaction="fc1">
</form>
```

#### autofocus
表单元素自动获得焦点

常见结构
``` html
<form id="form1">
	<input type="text" autofocus>
	<input type="text">
</form>
```

#### require
提交时内容为空不允许提交，并显示提示

常见结构
``` html
<form id="form1">
	<input type="text" required>
	<input type="text">
	<input type="submit">
</form>
```
#### labels
验证提示信息

常见结构
``` html
<form id="form1">
	<label for="t1" id="l1"></label>
	<input type="text" id="t1">
	<input type="button" id="btn1" value="验证" onclick="validate()">
</form>
```

``` javascript
<script>
	function validate() {
		var t1 = document.getElementById('t1');
		var btn1 = document.getElementById('btn1');
		var fm1 = document.getElementById('form1');

		if(t1.value.trim() == "") {
			var l1 = document.getElementById('l1');
			l1.setAttribute('for', 't1');
			f1.insertBefore(l1, btn1);	// 在button前显示验证提示信息
			t1.labels[1].innerHTML = '输入为空';
		}
	}
</script>
```

#### placeholder
输入提示信息

常见结构
``` html
<form id="form1">
	<input type="text" placeholder="请输入...">
</form>
```

#### datalist
可输入的下拉框

常见结构
``` html
<form id="form1">
	<input type="text" name="n1" list="ns">  <!-- 点击下拉箭头时显示datalist -->
	<datalist id="ns" style="display: none">
		<option value="v1">v1</option>
		<option value="v2">v2</option>
	</datalist>
</form>
```
#### autocomplete
输入自动填充

#### pattern
表单元素正则验证，输入错误时不跳转

常见结构
``` html
<form id="form1" action="xxx">
	<input type="text" pattern="{a-z}[3]" >
	<input type="submit">
</form>
```

#### selectionDirection
*Chrome不支持

#### indeterminate
复选框checkbox 的第三种状态 “尚未明确是否选取”状态

#### image按钮的width/height

### 链接相关属性
### 其他属性
### *废除属性

### 全局属性
contentEditable
designMode
hidden
spellcheck       拼写检查
tabindex         设置tab键焦点的顺序


##1.12

### css3应用

####拖拽

``` javascript
<script>
	var oBox = document.querySelector('div');

	oBox.onmousedown = function({
		clientX,
		clientY
	}) {
		var disX = clientX - (oBox.dataset.left || 0);
		var disY = clientY - (oBox.dataset.top || 0);

		console.log(oBox.offsetLeft, oBox.offsetTop);

		document.onmousemove = function({
			clientX,
			clientY
		}) {
			var deltaX = clientX - disX;
			var deltaY = clientY - disY;

			oBox.dataset.left = deltaX;
			oBox.dataset.top = deltaY;

			oBox.style.transform = `translate(${
				deltaX
			}px,${
				deltaY
			}px)`
		}

		document.onmouseup = function() {
			document.onmousemove = null;
			document.onmouseup = null;
		}
	}
</script>
``

#### 无缝滚动
假设共有9涨不重复图片
每次显示5张

``` css
<style>
	* {
		margin: 0;
		padding: 0;
	}
	.container {
		width: 500px;
		height: 100px;
		border: 1px solid #000;
		overflow: hidden;
	}
	ul {
		height: 100px;
		width: 1400px;
		animation: ani 6s infinite linear;
	}
	ul:hover {
		animation-play-state: paused;
	}
	li {
		list-style: none;
		width: 100px;
		height: 100px;
		float: left;
		background-size: cover;
		text-align: center;
		line-height: 100px;
	}
	@keyframes ani {
		to {
			transform: translate(-900px);
		}
	}
</style>
```

``` html
<div class="container">
	<ul>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<!-- 无缝 -->
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
	</ul>
</div>
```

``` javascript
<script>
	var aLi = document.querySelectorAll('li');

	aLi.forEach(function(oLi, index) {
		oLi.style.backgroundImage = `img/img${(index%9)+1}.jpg)`;

	})
</script>
```

#### 点赞

``` css
<style>
	#box {
		width: 20px;
		height: 20px;
		font-size: 20px;
		line-height: 20px;
		margin: 200px auto;
		position: relative;
		cursor: pointer;
		color: grey;
	}
	#box.active {
		color: red;
	}
	#box.active:after {
		content: "❤";
		width: 30px;
		height: 30px;
		font-size: 30px;
		line-height: 30px;
		position: absolute;
		left: -5px;
		top: -20px;
		color: red;
		animation: ani 2s forwards;
	}
	@keyframes ani {
		to {
			top: -100px;
			opacity: 0;
		}
	}
</style>
```

``` html
<div id="box">❤</div>
```

``` javascript
<script>
	var oBox = document.querySelector('div');

	oBox.onclick = function() {
		oBox.classList.toggle('active');
	}
</script>
```

高能版动画
``` css
<style>
	@keyframes ani {
		25% {
			transform: translate(0, -25px) rotate(20deg) scale(1.125);
			opacity: 0.75;
		}
		50% {
			transform: translate(0, -50px) rotate(-15deg) scale(1.25);
			opacity: 0.5;
		}
		75% {
			transform: translate(0, -75px) rotate(25deg) scale(1.375);
			opacity: 0.25;
		}
		100% {
			transform: translate(0, -100px) rotate(-10deg) scale(1.5);
			opacity: 0;
		}
	}
</style>
```

#### 动态时钟
``` css
<style>
	.container{
		width: 300px;
		height: 300px;
		border:  2px solid black;
		border-radius: 50%;
		margin: 20px auto;
		position: relative;
	}

	.hour{
		width: 10px;
		height: 50px;
		background-color: green;
		position: absolute;
		left: 145px;
		top: 100px;
		transform-origin: center bottom;
	}

	.minute{
		width: 8px;
		height: 80px;
		background-color: pink;
		position: absolute;
		left: 146px;
		top: 70px;
		transform-origin: center bottom;
	}

	.second{
		width: 4px;
		height: 100px;
		background-color: red;
		position: absolute;
		left: 148px;
		top: 50px;
		transform-origin: center bottom;
	}

	.cap{
		width: 20px;
		height: 20px;
		background: radial-gradient(white,silver);
		left: 140px;
		top: 140px;
		position: absolute;
		border-radius: 50%;
	}

	.mark{
		width: 4px;
		height: 10px;
		background-color: black;
		position: absolute;
		top: 0;
		left: 148px;
		transform-origin: 2px 150px;
	}

	.inner-block{
		width: 20px;
		height: 20px;
		text-align: center;
		position: absolute;
		left: -8px;
		top: 12px;
		line-height: 20px;
	}
</style>
```

``` html
<div class="container">
	<div class="hour"></div>
	<div class="minute"></div>
	<div class="second"></div>
	<div class="cap"></div>
</div>
```

``` javascript
<script>
	var oContainer = document.querySelector('.container');
	var oHour = document.querySelector('.hour');
	var oMinute = document.querySelector('.minute');
	var oSecond = document.querySelector('.second');

	var count = 12;

	for (var i = 0; i < count; i++) {
		var oDiv = document.createElement('div');
		oDiv.classList.add('mark');
		oDiv.style.transform = `rotate(${i*360/count}deg)`

		var innerBlock = document.createElement('div');
		innerBlock.classList.add('inner-block');

		innerBlock.innerHTML = i;

		innerBlock.style.transform = `rotate(${-i*360/count}deg)`

		if (i == 0) {
			innerBlock.innerHTML = 12;
		}

		oDiv.appendChild(innerBlock);
		oContainer.appendChild(oDiv);
	}

	setInterval(function() {
		var oDate = new Date();

		var hour = oDate.getHours();
		var minute = oDate.getMinutes();
		var second = oDate.getSeconds();
		var millisecond = oDate.getMilliseconds();

		oHour.style.transform = `rotate(${
			(hour+minute/60)*360/12
		}deg)`

		oMinute.style.transform = `rotate(${
			(minute+second/60)/60*360
		}deg)`

		oSecond.style.transform = `rotate(${
			(second+millisecond/1000)/60*360
		}deg)`
	}, 1000)
</script>
```


### 修改之前的分块运动
